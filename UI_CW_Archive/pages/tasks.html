<!DOCTYPE html>
<html>
    <head>
      <title>Tasks</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link id='styleSheet' rel="stylesheet" href="../static/css/style.css"/>
        <link rel="stylesheet" href="http://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>

        <!--Custom Scripts-->
        <script type="text/javascript" src="../static/javascript/taskList.js" defer></script>
        <script type="text/javascript" src="../static/javascript/share.js" defer></script>
        <script type="text/javascript" src="../static/javascript/validation.js"></script>
        <script type="text/javascript" src="../static/javascript/common.js" defer></script>

    </head>
    <body>
      <!--Main Navigation-->
      <nav id="mainNav" class="navbar nav-tabs">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">Home</a>
          </li>
        <li class="nav-item">
            <a class="nav-link active" href="tasks.html">Tasks</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="events.html">Events</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="calendar.html">Calendar </a>
          </li>
      </ul>

      <!--Weather Display-->
      <div class="containter-fluid dropdown ms-auto">
        <button class="btn dropdown-toggle" type="button" id="citySelectBtn" data-bs-toggle="dropdown" aria-expanded="false">
          Leicester, UK
        </button>
        <ul class="dropdown-menu">
          <li><input type="text" placeholder="Search for city..." id="citySelect"></li>
        </ul>            
        <img id="cloud" src="../images/cloud.jpg" height=50px width=50px alt="Forecast"/>
      </div>

      <!--Profile Navigation-->
      <ul class="nav" style="padding-right: 10px;">
        <li class="nav-item dropdown dropstart">
            <a class="nav-link ml-auto" id="profile" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false" aria-label="Profile Dropdown"></a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="account.html">Account</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a id="defaultStyle" class="dropdown-item">Light Theme</a></li>
              <li><a id="darkStyle" class="dropdown-item">Dark Theme</a></li>
              <li><a id="highContrast" class="dropdown-item">Contrast Theme</a></li>
              <li><hr class="dropdown-divider"></li>
            <li style="text-align: center;">Font Size</li>
            <li><a id="shrink" class="dropdown-item">Smaller</a></li>
            <li><a id="normal" class="dropdown-item">Normal</a></li>
            <li><a id="larger" class="dropdown-item">Larger</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="faq.html">Help</a></li>
            <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="login.html">logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
      </nav>

      <!--SideBar Navigation-->
      <div class="container-fluid">
        <div class="row me-auto vh-100">
          <div class="col-2 me-auto border-end border-3 vh-100">
            <div id="sidebar" class="btn-group-vertical d-flex">
              <button id='newListBtn' data-bs-target="#newListModal" data-bs-toggle="modal" class="btn btn-primary">New Task List +</button>
              <button id='garden-btn' data-bs-target="#garden"  data-bs-toggle="collapse" class="btn btn-primary">Clean the Garden</button>
              <button id='house-btn' data-bs-target="#house"  data-bs-toggle="collapse" class="btn btn-primary">Clean the House</button>
            </div>
          </div>
        
        <!--Container for Task Tables-->
        <div id="task-container" class="col border">

          <!--Task specific buttons-->
          <div id="taskNav" class="row task-nav">
            <div class="btn-group d-flex col justify-content-end ms-auto">
              <button id="modifyList" data-bs-target="#modifyListModal" data-bs-toggle="modal" class="btn btn-secondary" disabled="">Modify</button>
              <button id="addTaskBtn" data-bs-target="#newTaskModal" data-bs-toggle="modal" class="btn btn-secondary" disabled="">Add Task +</button>
              <button id='deleteTask' class="btn btn-secondary" disabled="">Delete Task -</button>
              <button id="deleteListNavBtn" class="btn btn-secondary" disabled="">Delete List</button>
              <button id='shareBtn' data-bs-target="#permissionModal" data-bs-toggle="modal" class="btn btn-secondary" disabled="">Share</button>
            </div>
          </div>

          <!--Task Tables-->
          <div class="row">
            <div id="garden" class="collapse task-table">
            <table id="garden-table" class="table table-bordered">
              <thead>
                  <tr class="thead-row">
                      <th class="col-sm-1 text-center" scope="col"><input class="form-check-input" type="checkbox" value="" id="masterCheck" onclick="masterCheck(this, 'tasks')"></th>
                      <th id="gardenTitle" class="text-center tasks title" scope="col">Clean the Garden</th>
                      <th id="gardenDeadline" class="text-center tasks date" scope="col">20/05/2022</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'mow')"></td>
                      <td class="text-center tasks mow title">Mow the Lawn</td>
                      <td class="text-center tasks mow date">19/05/2022</td>
                  </tr>
                  <tr">
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'bbq')"></td>
                      <td class="text-center tasks bbq title">Clean the BBQ</td>
                      <td class="text-center tasks bbq date">20/05/2022</td>
                  </tr>
                  <tr>
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'weeds')"></td>
                      <td class="text-center tasks weeds title">Get rid of weeds</td>
                      <td class="text-center tasks weeds date">19/05/2022</td>
                  </tr>
              </tbody>
          </table>
          </div>
          </div>
        <div class="row">
          <div id="house" class="collapse task-table">
            <table id="house-table" class="table table-bordered">
              <thead>
                  <tr class="thead-row">
                      <th class="col-sm-1 text-center" scope="col"><input class="form-check-input" type="checkbox" value="" id="masterCheck" onclick="masterCheck(this, 'tasks')"></th>
                      <th id="houseTitle" class="text-center tasks title" scope="col">Clean the House</th>
                      <th id="houseDeadline" class="text-center tasks date" scope="col">31/05/2022</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'toys')"></td>
                      <td class="text-center tasks toys title">Tidy Toys</td>
                      <td class="text-center tasks toys date">29/05/2022</td>
                  </tr>
                  <tr">
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'vacuum')"></td>
                      <td class="text-center tasks vacuum title">Vacuum</td>
                      <td class="text-center tasks vacuum date">30/05/2022</td>
                  </tr>
                  <tr>
                      <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'dishes')"></td>
                      <td class="text-center tasks dishes title">Dishes</th>
                      <td class="text-center tasks dishes date">30/05/2022</th>
                  </tr>
                  <tr>
                    <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'mop')"></td>
                    <td class="text-center tasks mop title">Mopping</th>
                    <td class="text-center tasks mop date">30/05/2022</th>
                </tr>
                <tr>
                  <td class="check text-center"><input class="form-check-input" type="checkbox" value="" onclick="scratchText(this, 'laundry')"></td>
                  <td class="text-center tasks laundry title">Laundry</th>
                  <td class="text-center tasks laundry date">31/05/2022</th>
              </tr>
              </tbody>
          </table>
          
          </div>
          <div id="emptyContainer" class="container-fluid justify-content-center">
          <h1>No Tasks Selected</h1>
          <img id="emptyImage" src="../images/task-icon.png" alt="No Tasks Selected" />
          </div>
        </div>
        </div>
      </div>
    </div>
 

    <!--Modal to add a new List-->
    <div class="modal fade" id="newListModal" data-bs-backdrop="static"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="newListLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="newListLabel">Create New List</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <form id="newListForm">
                  <label for="listName" class="form-label">List Name: </label>
                  <input type="text" class="form-control" id="listName" placeholder="New List Name"/>
                  <label for="date" class="form-label">Deadline:</label>
                  <input type="date" id="listDate" name="date" class="form-control"/>
                </form>           
              </div>
            </div>
          </div>

          <!--Error Handling-->
          <br/>
          <div class="alert alert-success formAlert" id="newListSuccess" style="display: none"></div>
          <div class="alert alert-warning formAlert" id="newListError" style="display: none"></div>
          <div class="modal-footer">

            <button type="button" class="btn btn-secondary formCloseBtn" data-bs-dismiss="modal">Close</button>
            <button type="button" id="newListSave" class="btn btn-primary formSubmitBtn" data-bs-dismiss="modal">Submit</button>
        
          </div>
        </div>
      </div>
    </div>

    <!--Modal for adding a new Task-->
    <div class="modal fade" id="newTaskModal" data-bs-backdrop="static"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="newTaskLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="newListLabel">Create New Task</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <form id="newTaskForm">
                  <label for="taskName" class="form-label">Task Name: </label>
                  <input type="text" class="form-control" id="taskName" placeholder="New Task"/>
                  <label for="taskdate" class="form-label">Deadline:</label>
                  <input type="date" id="taskDate" name="taskdate" class="form-control"/>
                </form>
              </div>
            </div>
          </div>
          <br/>
          <div class="alert alert-success formAlert" id="newTaskSuccess" style="display: none"></div>
          <div class="alert alert-warning formAlert" id="newTaskError" style="display: none"></div>
          <div class="modal-footer">

            <button type="button" class="btn btn-secondary formCloseBtn" data-bs-dismiss="modal">Close</button>
            <button type="button" id="newTaskSave" class="btn btn-primary formSubmitBtn" data-bs-dismiss="modal">Submit</button>
          
          </div>
        </div>
      </div>
    </div>

    <!--Modify an existing List Modal-->
    <div class="modal fade" id="modifyListModal" data-bs-backdrop="static"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="newListLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modifyListLabel">Modify List</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <form id="modifyListForm">
                  <label for="modifyListName" class="form-label">List Name: </label>
                  <input type="text" class="form-control" id="modifyListName" placeholder="New List Name"/>
                  <label for="modifyListDate" class="form-label">Deadline:</label>
                  <input type="date" id="modifyListDate" name="date" class="form-control"/>
                </form>

                <!--Error Handling-->
                <br/>
                <div class="alert alert-success formAlert" id="modifyListSuccess" style="display: none"></div>
                <div class="alert alert-warning formAlert" id="modifyListError" style="display: none"></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary formCloseBtn" data-bs-dismiss="modal">Close</button>
            <button type="button" id="modifyListSave" class="btn btn-primary formSubmitBtn" data-bs-dismiss="modal">Submit</button>
            <button type="button" id="deleteListBtn" class="btn btn-warning">Delete List</button>              
          </div>
        </div>
      </div>
    </div>


    <!--Share Button Permission Modal-->
    <div class="modal fade" id="permissionModal" data-bs-backdrop="static"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="newListLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="permissionLabel">Permissions</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <h5 class="modal-title">Add Permission</h5>
                <form id="addPermission">
                  <label for="newEmail" class="form-label">Email: </label>
                  <input type="email" class="form-control" id="newEmail" placeholder="Email:"/>
                  <label for="newPermission" class="form-label">Permission: </label>
                  <select class="form-select" id="newPermission" name="newPermission">
                    <option value="Read">Read Only</option>
                    <option value="Modify">Modify/Delete</option>
                    <option value="Edit">Edit</option>
                  </select>
                </form>

                <!--Error Handling-->
                <br/>
                <div class="alert alert-success formAlert" id="addPermissionSuccess" style="display: none"></div>
                <div class="alert alert-warning formAlert" id="addPermissionError" style="display: none"></div>
              
              </div>
            </div>
          <br>
          <div class="modal-footer">
            <button type="button" id="addPermissionBtn" class="btn btn-primary formSubmitBtn">Save and Send Email</button>             
          </div>
            <div class="row">
            <h5 class="modal-title">Users with Existing Permissions</h5>

            <!--Existing Permission Example-->
            <form id="existingUsers" class="">
                <table id='existingPermgarden' class="table table-bordered hide existingPermTables">
                  <tr>
                    <td><label for="exampleUser" class="form-label">ExampleUser@co2014.com</label></td>
                    <td><select class="form-select" id="exampleUser" name="exampleUser">
                <option value="Read">Read Only</option>
                <option value="Modify">Modify/Delete</option>
                <option value="Edit">Edit</option>
              </select></td>
              <td><button class="btn btn-secondary removePermission">Remove</button></td>
              </tr>
              
              </table>
              <!--Table for house permissions-->
              <table id='existingPermhouse' class="table table-bordered hide existingPermTables">
                <tbody></tbody>
            </table>
              <br>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" id="closePermissionBtn" class="btn btn-primary" data-bs-dismiss="modal">Close</button>             
            <button type="button" id="modifyPermissionBtn" class="btn btn-primary formSubmitBtn">Update Permissions</button>             
          </div>
        </div>
        </div>
      </div>
    </div>
  
</body>

</html>